
DECLARE EXTERNAL FUNCTION SUBSTR
CSTRING(80) CHARACTER SET UNICODE_FSS, SMALLINT, SMALLINT
RETURNS CSTRING(80) CHARACTER SET UNICODE_FSS FREE_IT
ENTRY_POINT 'IB_UDF_substr' MODULE_NAME 'ib_udf';

CREATE DOMAIN ADDRESS_TYPE AS VARCHAR(100) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN AMOUNT_TYPE AS NUMERIC(9, 2);
CREATE DOMAIN AMPHUR_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN BNKACC_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN BNKBRN_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN BNKNM_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN CHARGE_TYPE AS INTEGER;
CREATE DOMAIN CHG_TYPE AS VARCHAR(5) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN CODE_TYPE AS VARCHAR(20) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN COLOR_TYPE AS INTEGER;
CREATE DOMAIN COUNTRY_TYPE AS VARCHAR(100) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN CREDIT_TYPE AS INTEGER;
CREATE DOMAIN CTL_TYPE AS CHAR(2) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN CUT_TYPE AS CHAR(2) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN CYCLE_NO_TYPE AS INTEGER;
CREATE DOMAIN DATA_TYPE AS INTEGER;
CREATE DOMAIN DATE_TYPE AS VARCHAR(19) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN DAY_TYPE AS INTEGER;
CREATE DOMAIN DBCR_TYPE AS CHAR(1) CHARACTER SET UNICODE_FSS CHECK(VALUE IN ('D', 'C'));
CREATE DOMAIN DESC_TYPE AS VARCHAR(300) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN DISTRICT_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN EMAIL_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN FAX_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN FLAG_TYPE AS CHAR(1) CHARACTER SET UNICODE_FSS CHECK(VALUE IN ('Y', 'N'));
CREATE DOMAIN GROUPNAME_TYPE AS VARCHAR(50) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN HEIGHT_TYPE AS NUMERIC(9, 2);
CREATE DOMAIN HOME_TYPE AS VARCHAR(70) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN ID_TYPE AS INTEGER;
CREATE DOMAIN IP_TYPE AS VARCHAR(50) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN LEN_TYPE AS NUMERIC(3, 0);
CREATE DOMAIN LNAME_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN MESSAGE_TYPE AS CHAR(1) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN MONEY_TYPE AS NUMERIC(12, 7);
CREATE DOMAIN MONTH_TYPE AS INTEGER;
CREATE DOMAIN MOO_TYPE AS VARCHAR(10) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN NAME_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN PASSWORD_TYPE AS VARCHAR(50) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN PERCENT_TYPE AS NUMERIC(2, 0);
CREATE DOMAIN PHONE_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN PICSIZE_TYPE AS NUMERIC(5, 0);
CREATE DOMAIN PROVINCE_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN QUOATA_TYPE AS CHAR(1) CHARACTER SET UNICODE_FSS CHECK(VALUE IN ('M', 'F'));
CREATE DOMAIN REFCOUNT_TYPE AS INTEGER;
CREATE DOMAIN REGION_TYPE AS CHAR(2) CHARACTER SET UNICODE_FSS CHECK(VALUE IN ('N', 'E', 'W', 'S', 'NE', 'M'));
CREATE DOMAIN RIGHTNAME_TYPE AS VARCHAR(50) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN RIGHT_TYPE AS VARCHAR(100) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN ROAD_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN SNAME_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN SOI_TYPE AS VARCHAR(50) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN STRING_TYPE AS VARCHAR(1024) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN TAXID_TYPE AS VARCHAR(20) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN TEXT_TYPE AS INTEGER;
CREATE DOMAIN TIME_TYPE AS VARCHAR(20) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN UOM_TYPE AS INTEGER;
CREATE DOMAIN USERNAME_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN VAR_TYPE AS CHAR(2) CHARACTER SET UNICODE_FSS CHECK(VALUE IN ('I', 'L', 'F', 'DT', 'S', 'B'));
CREATE DOMAIN VILLAGE_TYPE AS VARCHAR(75) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN WEB_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;
CREATE DOMAIN WEIGHT_TYPE AS NUMERIC(9, 2);
CREATE DOMAIN YEAR_TYPE AS INTEGER;
CREATE DOMAIN ZIP_TYPE AS VARCHAR(30) CHARACTER SET UNICODE_FSS;

CREATE TABLE SYSTEM_PARAM
(
   PARAM_ID              ID_TYPE NOT NULL,
   PARAM_NAME            CODE_TYPE NOT NULL,
   PARAM_TYPE            VAR_TYPE NOT NULL,
   PARAM_VALUE           DESC_TYPE,
   PARAM_DEFAULT         DESC_TYPE,
   PARAM_DESC            DESC_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

INSERT INTO SYSTEM_PARAM
(
   PARAM_ID,
   PARAM_NAME,
   PARAM_TYPE,
   PARAM_VALUE,
   PARAM_DEFAULT,
   PARAM_DESC,
   CREATE_DATE,
   CREATE_BY,
   MODIFY_DATE,
   MODIFY_BY
)
VALUES
(
   GEN_ID (SYSTEM_PARAM_SEQ, 1),
   'DUMMY_PARAM',
   'S',
   '',
   '',
   'Dummy key for generator',
   '2005-05-29 01:27:24.0000',
   0,
   '2005-05-29 01:27:24.0000',
   0
);

ALTER TABLE SYSTEM_PARAM ADD CONSTRAINT SYSTEM_PARAM_ID_PK PRIMARY KEY (PARAM_ID);
CREATE GENERATOR SYSTEM_PARAM_SEQ;

CREATE TABLE PATCH_DELIVERY
(
   PATCH_DELIVERY_ID     ID_TYPE NOT NULL,
   PATCH_VERSION         NAME_TYPE NOT NULL,
   PATCH_DATE            DATE_TYPE,
   PATCH_BY              ID_TYPE
);

ALTER TABLE PATCH_DELIVERY ADD CONSTRAINT PATCH_DELIVERY_ID_PK PRIMARY KEY (PATCH_DELIVERY_ID);
CREATE GENERATOR PATCH_DELIVERY_SEQ;


CREATE TABLE REPORT_CONFIG
(
   REPORT_CONFIG_ID      ID_TYPE NOT NULL,
   REPORT_KEY            CODE_TYPE,
   PAPER_SIZE            MONEY_TYPE,
   PAPER_WIDTH           MONEY_TYPE,
   PAPER_HEIGHT          MONEY_TYPE,
   ORIENTATION           MONEY_TYPE,
   MARGIN_BOTTOM         MONEY_TYPE,
   MARGIN_FOOTER         MONEY_TYPE,
   MARGIN_HEADER         MONEY_TYPE,
   MARGIN_LEFT           MONEY_TYPE,
   MARGIN_RIGHT          MONEY_TYPE,
   MARGIN_TOP            MONEY_TYPE,
   FONT_NAME             NAME_TYPE,
   FONT_SIZE             MONEY_TYPE,
   HEAD_OFFSET           MONEY_TYPE,
   DUMMY_OFFSET          MONEY_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);
ALTER TABLE REPORT_CONFIG ADD CONSTRAINT REPORT_CONFIG_ID_PK PRIMARY KEY (REPORT_CONFIG_ID);
CREATE GENERATOR REPORT_CONFIG_SEQ;

CREATE TABLE RIGHT_ITEM
(
   RIGHT_ID             ID_TYPE NOT NULL,
   RIGHT_ITEM_DESC      DESC_TYPE,
   DEFAULT_VALUE        FLAG_TYPE NOT NULL,
   RIGHT_ITEM_NAME      NAME_TYPE NOT NULL,
   PARENT_ID            ID_TYPE,

   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE RIGHT_ITEM ADD CONSTRAINT RIGHT_ITEM_ID_PK PRIMARY KEY (RIGHT_ID);
ALTER TABLE RIGHT_ITEM ADD CONSTRAINT RIGHT_ITEM_PARENT_ID_FK FOREIGN KEY (PARENT_ID) REFERENCES RIGHT_ITEM;
CREATE GENERATOR RIGHT_ITEM_SEQ;

CREATE TABLE USER_GROUP
(
   GROUP_ID             ID_TYPE NOT NULL,
   GROUP_NAME           GROUPNAME_TYPE NOT NULL,
   GROUP_DESC           DESC_TYPE,
   MAX_USER             LEN_TYPE,
   GROUP_STATUS         FLAG_TYPE,
   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY            ID_TYPE NOT NULL
);

ALTER TABLE USER_GROUP ADD CONSTRAINT USER_GROUP_ID_PK PRIMARY KEY (GROUP_ID);
CREATE GENERATOR USER_GROUP_SEQ;

CREATE TABLE GROUP_RIGHT
(
   GROUP_RIGHT_ID       ID_TYPE NOT NULL,
   GROUP_ID             ID_TYPE NOT NULL,
   RIGHT_ID             ID_TYPE NOT NULL,
   RIGHT_STATUS         FLAG_TYPE NOT NULL,

   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY            ID_TYPE NOT NULL
);

ALTER TABLE GROUP_RIGHT ADD CONSTRAINT GROUP_RIGHT_ID_PK PRIMARY KEY (GROUP_RIGHT_ID);
ALTER TABLE GROUP_RIGHT ADD CONSTRAINT GROUP_RIGHT_RIGHT_ID_FK FOREIGN KEY (RIGHT_ID) REFERENCES RIGHT_ITEM;
ALTER TABLE GROUP_RIGHT ADD CONSTRAINT GROUP_RIGHT_GROUP_ID_FK FOREIGN KEY (GROUP_ID) REFERENCES USER_GROUP;
CREATE GENERATOR GROUP_RIGHT_SEQ;

CREATE TABLE USER_ACCOUNT
(
   USER_ID              ID_TYPE NOT NULL,
   USER_NAME            USERNAME_TYPE NOT NULL,
   USER_PASSWORD        PASSWORD_TYPE NOT NULL,
   USER_DESC            DESC_TYPE,
   USER_STATUS          FLAG_TYPE,
   GROUP_ID             ID_TYPE NOT NULL,
   CHECK_EXPIRE         FLAG_TYPE NOT NULL,
   EXPIRE_DATE          DATE_TYPE,
   FROM_TIME            TIME_TYPE,
   TO_TIME              TIME_TYPE,
   EXCEPTION_FLAG        FLAG_TYPE,

   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY            ID_TYPE NOT NULL
);

ALTER TABLE USER_ACCOUNT ADD CONSTRAINT USER_ACCOUNT_ID_PK PRIMARY KEY (USER_ID);
ALTER TABLE USER_ACCOUNT ADD CONSTRAINT USER_ACCOUNT_GROUP_ID_FK FOREIGN KEY (GROUP_ID) REFERENCES USER_GROUP;
CREATE GENERATOR USER_ACCOUNT_SEQ;

CREATE TABLE LOGIN_TRACKING
(
   LOGIN_TRACKING_ID      ID_TYPE NOT NULL,
   LOGIN_DATE             DATE_TYPE NOT NULL,
   USER_ID                ID_TYPE NOT NULL,
   USER_NAME              USERNAME_TYPE NOT NULL,
   IP_ADDRESS             IP_TYPE,
   LOGOUT_DATE            DATE_TYPE,

   CREATE_DATE            DATE_TYPE NOT NULL,
   CREATE_BY              ID_TYPE NOT NULL,
   MODIFY_DATE            DATE_TYPE NOT NULL,
   MODIFY_BY              ID_TYPE NOT NULL
);

ALTER TABLE LOGIN_TRACKING ADD CONSTRAINT LOGIN_TRACKING_ID_PK PRIMARY KEY (LOGIN_TRACKING_ID);
CREATE GENERATOR LOGIN_TRACKING_SEQ;

/* ================================================ */

CREATE TABLE MASTER_REF
(
   KEY_ID                ID_TYPE NOT NULL,
   KEY_CODE              CODE_TYPE NOT NULL,
   KEY_NAME              NAME_TYPE,
   MASTER_AREA           ID_TYPE NOT NULL,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE MASTER_REF ADD CONSTRAINT MASTER_REF_ID_PK PRIMARY KEY (KEY_ID);
CREATE GENERATOR MASTER_REF_SEQ;

CREATE TABLE ADDRESS
(
   ADDRESS_ID           ID_TYPE NOT NULL,
   HOME                 HOME_TYPE NOT NULL,
   SOI                  SOI_TYPE,
   MOO                  MOO_TYPE,
   VILLAGE              VILLAGE_TYPE,
   ROAD                 ROAD_TYPE,
   DISTRICT             DISTRICT_TYPE,
   AMPHUR               AMPHUR_TYPE,
   PROVINCE             PROVINCE_TYPE,
   COUNTRY_ID           ID_TYPE,
   PHONE1               PHONE_TYPE,
   PHONE2               PHONE_TYPE,
   FAX1                 FAX_TYPE,
   FAX2                 FAX_TYPE,
   ZIPCODE              ZIP_TYPE,
   BANGKOK_FLAG         FLAG_TYPE,

   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY            ID_TYPE NOT NULL
);

ALTER TABLE ADDRESS ADD CONSTRAINT ADDRESS_ID_PK PRIMARY KEY (ADDRESS_ID);
ALTER TABLE ADDRESS ADD CONSTRAINT ADDRESS_COUNTRY_ID_FK FOREIGN KEY (COUNTRY_ID) REFERENCES MASTER_REF;
CREATE GENERATOR ADDRESS_SEQ;

CREATE TABLE NAME
(
   NAME_ID              ID_TYPE NOT NULL,
   PREFIX_ID            ID_TYPE,
   LONG_NAME            LNAME_TYPE NOT NULL,
   SHORT_NAME           SNAME_TYPE,
   NICK_NAME            SNAME_TYPE,
   MIDDLE_NAME          SNAME_TYPE,
   LAST_NAME            LNAME_TYPE NOT NULL,
   LANGUAGE_ID          ID_TYPE,
   EMAIL                EMAIL_TYPE,
   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY            ID_TYPE NOT NULL
);

ALTER TABLE NAME ADD CONSTRAINT NAME_ID_PK PRIMARY KEY (NAME_ID);
ALTER TABLE NAME ADD CONSTRAINT NAME_PREFIX_ID_FK FOREIGN KEY (PREFIX_ID) REFERENCES MASTER_REF;
ALTER TABLE NAME ADD CONSTRAINT NAME_LANGUAGE_ID_FK FOREIGN KEY (LANGUAGE_ID) REFERENCES MASTER_REF;
CREATE GENERATOR NAME_SEQ;

CREATE TABLE EMPLOYEE
(
   EMP_ID                ID_TYPE NOT NULL,
   EMP_CODE              CODE_TYPE NOT NULL,
   SEX_ID                ID_TYPE,
   WEIGHT                WEIGHT_TYPE,
   HEIGHT                HEIGHT_TYPE,
   RACE                  CODE_TYPE,
   NATIONALITY           CODE_TYPE,
   RELIGIOUS_ID          ID_TYPE,
   MARITAL_ID            ID_TYPE,
   MILITALY_ID           ID_TYPE,
   BIRTH_DATE            DATE_TYPE,
   ENTRY_DATE            DATE_TYPE,
   DISCEASE              DESC_TYPE,
   MOBILE_PHONE          PHONE_TYPE,
   EMAIL_ADDRESS         EMAIL_TYPE,
   RESIGN_DATE           DATE_TYPE,
   CREMATION_DATE        DATE_TYPE,
   DUE_DATE              DATE_TYPE,
   APPEND_DATE           DATE_TYPE,
   ALLOWANCE_DATE        DATE_TYPE,
   PASS_DATE             DATE_TYPE,
   PASS_STATUS           FLAG_TYPE,
   WORK_STATUS_ID        ID_TYPE,
   BLOOD_GROUP           ID_TYPE,
   RESIGN_REASON         ID_TYPE,
   CURRENT_POSITION      ID_TYPE,
   CURRENT_SECTION       ID_TYPE,
   CURRENT_ORGANIZE      ID_TYPE,
   CURRENT_SALARY        MONEY_TYPE,
   CREDIT_AMOUNT         MONEY_TYPE,
   BANK_BRANCH           NAME_TYPE,
   BANK_ACCOUNT          NAME_TYPE,
   BANK_ID               ID_TYPE,
   EXTERNAL_FLAG         FLAG_TYPE,
   ASSURE_AMOUNT         MONEY_TYPE,
   OT_RATE               MONEY_TYPE,
   CARD_NO               CODE_TYPE,
   HOME_PHONE            PHONE_TYPE,
   TOTBORROW             MONEY_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE EMPLOYEE ADD CONSTRAINT EMP_ID_PK PRIMARY KEY (EMP_ID);
CREATE GENERATOR EMPLOYEE_SEQ;

CREATE TABLE EMPLOYEE_NAME
(
   EMPLOYEE_NAME_ID      ID_TYPE NOT NULL,
   EMP_ID                ID_TYPE NOT NULL,
   NAME_ID               ID_TYPE NOT NULL,
   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE EMPLOYEE_NAME ADD CONSTRAINT EMPLOYEE_NAME_ID_PK PRIMARY KEY (EMPLOYEE_NAME_ID);
ALTER TABLE EMPLOYEE_NAME ADD CONSTRAINT EMPLOYEE_NAME_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE;
ALTER TABLE EMPLOYEE_NAME ADD CONSTRAINT EMPLOYEE_NAME_NAME_ID_FK FOREIGN KEY (NAME_ID) REFERENCES NAME;
CREATE GENERATOR EMPLOYEE_NAME_SEQ;




CREATE TABLE SUPPLIER
(
   SUPPLIER_ID           ID_TYPE NOT NULL,
   SUPPLIER_CODE         CODE_TYPE NOT NULL,
   SUPPLIER_GRADE        ID_TYPE,
   SUPPLIER_TYPE         ID_TYPE,
   CREDIT                LEN_TYPE,
   TAX_ID                TAXID_TYPE,
   BIRTH_DATE            DATE_TYPE,
   EMAIL                 EMAIL_TYPE,
   WEBSITE               WEB_TYPE,
   PASSWORD1             PASSWORD_TYPE,
   SUPPLIER_STATUS       ID_TYPE,
   BUSINESS_DESC         DESC_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE SUPPLIER ADD CONSTRAINT SUPPLIER_ID_PK PRIMARY KEY (SUPPLIER_ID);
ALTER TABLE SUPPLIER ADD CONSTRAINT SUPPLIER_GRADE_FK FOREIGN KEY (SUPPLIER_GRADE) REFERENCES MASTER_REF;
ALTER TABLE SUPPLIER ADD CONSTRAINT SUPPLIER_TYPE_FK FOREIGN KEY (SUPPLIER_TYPE) REFERENCES MASTER_REF;
ALTER TABLE SUPPLIER ADD CONSTRAINT SUPPLIER_STATUS_FK FOREIGN KEY (SUPPLIER_STATUS) REFERENCES MASTER_REF;
CREATE GENERATOR SUPPLIER_SEQ;

CREATE TABLE SUPPLIER_ADDRESS
(
   SUPPLIER_ADDRESS_ID   ID_TYPE NOT NULL,
   SUPPLIER_ID           ID_TYPE NOT NULL,
   ADDRESS_ID            ID_TYPE NOT NULL,
   ADDRESS_TYPE          ID_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE SUPPLIER_ADDRESS ADD CONSTRAINT SUPPLIER_ADDRESS_ID_PK PRIMARY KEY (SUPPLIER_ADDRESS_ID);
ALTER TABLE SUPPLIER_ADDRESS ADD CONSTRAINT SUPPLIER_ADDRESS_SUPPLIER_ID_FK FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER;
ALTER TABLE SUPPLIER_ADDRESS ADD CONSTRAINT SUPPLIER_ADDRESS_ID_FK FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS;
ALTER TABLE SUPPLIER_ADDRESS ADD CONSTRAINT SUPPLIER_ADDRESS_TYPE_FK FOREIGN KEY (ADDRESS_TYPE) REFERENCES MASTER_REF;
CREATE GENERATOR SUPPLIER_ADDRESS_SEQ;

CREATE TABLE SUPPLIER_CONTACT
(
   SUPPLIER_CONTACT_ID   ID_TYPE NOT NULL,
   SUPPLIER_ID           ID_TYPE NOT NULL,
   NAME_ID               ID_TYPE NOT NULL,
   CONTACT_POSITION      DESC_TYPE,
   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE SUPPLIER_CONTACT ADD CONSTRAINT SUPPLIER_CONTACT_ID_PK PRIMARY KEY (SUPPLIER_CONTACT_ID);
ALTER TABLE SUPPLIER_CONTACT ADD CONSTRAINT SUPPLIER_CONTACT_SUPPLIER_ID_FK FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER;
ALTER TABLE SUPPLIER_CONTACT ADD CONSTRAINT SUPPLIER_CONTACT_NAME_ID_FK FOREIGN KEY (NAME_ID) REFERENCES NAME;
CREATE GENERATOR SUPPLIER_CONTACT_SEQ;

CREATE TABLE SUPPLIER_NAME
(
   SUPPLIER_NAME_ID      ID_TYPE NOT NULL,
   SUPPLIER_ID           ID_TYPE NOT NULL,
   NAME_ID               ID_TYPE NOT NULL,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE SUPPLIER_NAME ADD CONSTRAINT SUPPLIER_NAME_ID_PK PRIMARY KEY (SUPPLIER_NAME_ID);
ALTER TABLE SUPPLIER_NAME ADD CONSTRAINT SUPPLIER_NAME_SUPPLIER_ID_FK FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER;
ALTER TABLE SUPPLIER_NAME ADD CONSTRAINT SUPPLIER_NAME_NAME_ID_FK FOREIGN KEY (NAME_ID) REFERENCES NAME;
CREATE GENERATOR SUPPLIER_NAME_SEQ;



CREATE TABLE CUSTOMER
(
   CUSTOMER_ID          ID_TYPE NOT NULL,
   CUSTOMER_CODE        CODE_TYPE,
   CUSTOMER_GRADE       ID_TYPE,
   CUSTOMER_TYPE        ID_TYPE,
   CREDIT               LEN_TYPE,
   TAX_ID               TAXID_TYPE,
   BIRTH_DATE           DATE_TYPE,
   EMAIL                EMAIL_TYPE,
   WEBSITE              WEB_TYPE,
   CUSTOMER_PASSWORD    PASSWORD_TYPE,
   BUSINESS_TYPE        ID_TYPE,
   BUSINESS_DESC        DESC_TYPE,
   RESPONSE_BY          ID_TYPE,
   NORMAL_DISCOUNT      MONEY_TYPE,

   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY            ID_TYPE NOT NULL
);

ALTER TABLE CUSTOMER ADD CONSTRAINT CUSTOMER_ID_PK PRIMARY KEY (CUSTOMER_ID);
ALTER TABLE CUSTOMER ADD CONSTRAINT CUSTOMER_GRADE_FK FOREIGN KEY (CUSTOMER_GRADE) REFERENCES MASTER_REF;
ALTER TABLE CUSTOMER ADD CONSTRAINT CUSTOMER_TYPE_FK FOREIGN KEY (CUSTOMER_TYPE) REFERENCES MASTER_REF;
ALTER TABLE CUSTOMER ADD CONSTRAINT CUSTOMER_BUSINESS_TYPE_FK FOREIGN KEY (BUSINESS_TYPE) REFERENCES MASTER_REF;
CREATE GENERATOR CUSTOMER_SEQ;
CREATE GENERATOR CUSTOMER_NUMBER_SEQ;

CREATE TABLE CUSTOMER_ADDRESS
(
   CUSTOMER_ADDRESS_ID   ID_TYPE NOT NULL,
   CUSTOMER_ID           ID_TYPE NOT NULL,
   ADDRESS_ID            ID_TYPE NOT NULL,
   ADDRESS_TYPE          ID_TYPE,
   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE CUSTOMER_ADDRESS ADD CONSTRAINT CUSTOMER_ADDRESS_ID_PK PRIMARY KEY (CUSTOMER_ADDRESS_ID);
ALTER TABLE CUSTOMER_ADDRESS ADD CONSTRAINT CUSTOMER_ADDRESS_SUPPLIER_ID_FK FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER;
ALTER TABLE CUSTOMER_ADDRESS ADD CONSTRAINT CUSTOMER_ADDRESS_ID_FK FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS;
ALTER TABLE CUSTOMER_ADDRESS ADD CONSTRAINT CUSTOMER_ADDRESS_TYPE_FK FOREIGN KEY (ADDRESS_TYPE) REFERENCES MASTER_REF;
CREATE GENERATOR CUSTOMER_ADDRESS_SEQ;

CREATE TABLE CUSTOMER_NAME
(
   CUSTOMER_NAME_ID      ID_TYPE NOT NULL,
   CUSTOMER_ID           ID_TYPE NOT NULL,
   NAME_ID               ID_TYPE NOT NULL,
   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE CUSTOMER_NAME ADD CONSTRAINT CUSTOMER_NAME_ID_PK PRIMARY KEY (CUSTOMER_NAME_ID);
ALTER TABLE CUSTOMER_NAME ADD CONSTRAINT CUSTOMER_NAME_SUPPLIER_ID_FK FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER;
ALTER TABLE CUSTOMER_NAME ADD CONSTRAINT CUSTOMER_NAME_NAME_ID_FK FOREIGN KEY (NAME_ID) REFERENCES NAME;
CREATE GENERATOR CUSTOMER_NAME_SEQ;

CREATE TABLE ACCOUNT
(
   ACCOUNT_ID            ID_TYPE NOT NULL,
   ACCOUNT_NO            CODE_TYPE NOT NULL,
   CUSTOMER_ID           ID_TYPE NOT NULL,
   ACCOUNT_TYPE          ID_TYPE,
   ACCOUNT_STATUS        ID_TYPE,
   NOTE                  DESC_TYPE,
   DEALER_CODE           ID_TYPE,
   CHANNEL_ID            ID_TYPE,
   CREDIT                CREDIT_TYPE,
   ENABLE_FLAG           FLAG_TYPE,
   MASTER_FLAG           FLAG_TYPE,


   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE ACCOUNT ADD CONSTRAINT ACCOUNT_ID_PK PRIMARY KEY (ACCOUNT_ID);
ALTER TABLE ACCOUNT ADD CONSTRAINT ACCOUNT_CUSTOMER_ID_FK FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER;
ALTER TABLE ACCOUNT ADD CONSTRAINT ACCOUNT_TYPE_ID_FK FOREIGN KEY (ACCOUNT_TYPE) REFERENCES MASTER_REF;
ALTER TABLE ACCOUNT ADD CONSTRAINT ACCOUNT_STATUS_ID_FK FOREIGN KEY (ACCOUNT_STATUS) REFERENCES MASTER_REF;
CREATE GENERATOR ACCOUNT_SEQ;

CREATE TABLE SUBSCRIBER
(
   SUBSCRIBER_ID         ID_TYPE NOT NULL,
   SUBSCRIBER_NO         CODE_TYPE NOT NULL,
   ACCOUNT_ID            ID_TYPE NOT NULL,
   SUBSCRIBER_STATUS     FLAG_TYPE,
   DUMMY_FLAG            FLAG_TYPE NOT NULL,
   SUBSCRIBER_DESC       DESC_TYPE,
   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);
ALTER TABLE SUBSCRIBER ADD CONSTRAINT SUBSCRIBER_ID_PK PRIMARY KEY (SUBSCRIBER_ID);
ALTER TABLE SUBSCRIBER ADD CONSTRAINT SUBSCRIBER_ACCOUNT_ID_FK FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT;

CREATE GENERATOR SUBSCRIBER_SEQ;


CREATE TABLE ENTERPRISE
(
   ENTERPRISE_ID        ID_TYPE NOT NULL,
   BUSINESS_TYPE        ID_TYPE,
   EMAIL                EMAIL_TYPE,
   WEBSITE              EMAIL_TYPE,
   TAX_ID               TAXID_TYPE,
   SETUP_DATE           DATE_TYPE,
   POLICY               DESC_TYPE,
   ENTERPRISE_TYPE      ID_TYPE,
   BRANCH_CODE          CODE_TYPE,
   BRANCH_NAME          NAME_TYPE,

   CREATE_DATE          DATE_TYPE NOT NULL,
   CREATE_BY            ID_TYPE NOT NULL,
   MODIFY_DATE          DATE_TYPE NOT NULL,
   MODIFY_BY            ID_TYPE NOT NULL
);

ALTER TABLE ENTERPRISE ADD CONSTRAINT ENTERPRISE_ID_PK PRIMARY KEY (ENTERPRISE_ID);
ALTER TABLE ENTERPRISE ADD CONSTRAINT ENTERPRISE_BUSINESS_ID_FK FOREIGN KEY (BUSINESS_TYPE) REFERENCES MASTER_REF;
ALTER TABLE ENTERPRISE ADD CONSTRAINT ENTERPRISE_ENP_TYPE_ID_FK FOREIGN KEY (ENTERPRISE_TYPE) REFERENCES MASTER_REF;
CREATE GENERATOR ENTERPRISE_SEQ;

CREATE TABLE ENTERPRISE_ADDRESS
(
   ENTERPRISE_ADDRESS_ID   ID_TYPE NOT NULL,
   ENTERPRISE_ID           ID_TYPE NOT NULL,
   ADDRESS_ID              ID_TYPE NOT NULL,
   CREATE_DATE             DATE_TYPE NOT NULL,
   CREATE_BY               ID_TYPE NOT NULL,
   MODIFY_DATE             DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE ENTERPRISE_ADDRESS ADD CONSTRAINT ENTERPRISE_ADDRESS_ID_PK PRIMARY KEY (ENTERPRISE_ADDRESS_ID);
ALTER TABLE ENTERPRISE_ADDRESS ADD CONSTRAINT ENTERPRISE_ADDRESS_ENP_ID_FK FOREIGN KEY (ENTERPRISE_ID) REFERENCES ENTERPRISE;
ALTER TABLE ENTERPRISE_ADDRESS ADD CONSTRAINT ENTERPRISE_ADDRESS_ID_FK FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS;
CREATE GENERATOR ENTERPRISE_ADDRESS_SEQ;

CREATE TABLE ENTERPRISE_NAME
(
   ENTERPRISE_NAME_ID    ID_TYPE NOT NULL,
   ENTERPRISE_ID         ID_TYPE NOT NULL,
   NAME_ID               ID_TYPE NOT NULL,
   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE ENTERPRISE_NAME ADD CONSTRAINT ENTERPRISE_NAME_ID_PK PRIMARY KEY (ENTERPRISE_NAME_ID);
ALTER TABLE ENTERPRISE_NAME ADD CONSTRAINT ENTERPRISE_NAME_ENP_ID_FK FOREIGN KEY (ENTERPRISE_ID) REFERENCES ENTERPRISE;
ALTER TABLE ENTERPRISE_NAME ADD CONSTRAINT ENTERPRISE_NAME_NAME_ID_FK FOREIGN KEY (NAME_ID) REFERENCES NAME;
CREATE GENERATOR ENTERPRISE_NAME_SEQ;

CREATE TABLE ENTERPRISE_PERSON
(
   ENTERPRISE_PERSON_ID  ID_TYPE NOT NULL,
   ENTERPRISE_ID         ID_TYPE NOT NULL,
   NAME_ID               ID_TYPE NOT NULL,
   MASTER_FLAG           FLAG_TYPE,
   ADDRESS_ID            ID_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE ENTERPRISE_PERSON ADD CONSTRAINT ENTERPRISE_PERSON_ID_PK PRIMARY KEY (ENTERPRISE_PERSON_ID);
ALTER TABLE ENTERPRISE_PERSON ADD CONSTRAINT ENTERPRISE_PERSON_ENP_ID_FK FOREIGN KEY (ENTERPRISE_ID) REFERENCES ENTERPRISE;
ALTER TABLE ENTERPRISE_PERSON ADD CONSTRAINT ENTERPRISE_NAME_ID_FK FOREIGN KEY (NAME_ID) REFERENCES NAME;
CREATE GENERATOR ENTERPRISE_PERSON_SEQ;



CREATE TABLE TAX_DOCUMENT
(
   TAX_DOCUMENT_ID       ID_TYPE NOT NULL,
   DOCUMENT_DATE         DATE_TYPE,
   RESPONSE_ID           ID_TYPE,
   COMPANY_ID            ID_TYPE,
   TAX_TYPE              ID_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE TAX_DOCUMENT ADD CONSTRAINT TAX_DOCUMENT_ID_PK PRIMARY KEY (TAX_DOCUMENT_ID);
ALTER TABLE TAX_DOCUMENT ADD CONSTRAINT TAX_DOCUMENT_EMP_ID_FK FOREIGN KEY (RESPONSE_ID) REFERENCES EMPLOYEE;
ALTER TABLE TAX_DOCUMENT ADD CONSTRAINT TAX_DOCUMENT_ENP_ID_FK FOREIGN KEY (COMPANY_ID) REFERENCES ENTERPRISE;
CREATE GENERATOR TAX_DOCUMENT_SEQ;

CREATE TABLE TAXDOC_ITEM
(
   TAXDOC_ITEM_ID        ID_TYPE NOT NULL,
   TAX_DOCUMENT_ID       ID_TYPE NOT NULL,
   REF_NO                CODE_TYPE,
   PAY_DATE              DATE_TYPE,
   SUPPLIER_ID           ID_TYPE,
   ADDRESS_ID            ID_TYPE,
   REVENUE_TYPE          ID_TYPE,
   TAX_RATE              ID_TYPE,
   PAID_AMOUNT           MONEY_TYPE,
   WH_AMOUNT             MONEY_TYPE,
   CONDITION_ID          ID_TYPE,
   NOTE                  DESC_TYPE,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE TAXDOC_ITEM ADD CONSTRAINT TAXDOC_ITEM_ID_PK PRIMARY KEY (TAXDOC_ITEM_ID);
ALTER TABLE TAXDOC_ITEM ADD CONSTRAINT TAXDOC_ITEM_DOC_ID_FK FOREIGN KEY (TAX_DOCUMENT_ID) REFERENCES TAX_DOCUMENT;
ALTER TABLE TAXDOC_ITEM ADD CONSTRAINT TAXDOC_ITEM_SUPPLIER_ID_FK FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER;
ALTER TABLE TAXDOC_ITEM ADD CONSTRAINT TAXDOC_ITEM_ADDRESS_ID_FK FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS;
ALTER TABLE TAXDOC_ITEM ADD CONSTRAINT TAXDOC_ITEM_REVENUE_TYPE_ID_FK FOREIGN KEY (REVENUE_TYPE) REFERENCES MASTER_REF;
ALTER TABLE TAXDOC_ITEM ADD CONSTRAINT TAXDOC_ITEM_TAX_RATE_ID_FK FOREIGN KEY (TAX_RATE) REFERENCES MASTER_REF;
ALTER TABLE TAXDOC_ITEM ADD CONSTRAINT TAXDOC_ITEM_CONDITION_ID_FK FOREIGN KEY (CONDITION_ID) REFERENCES MASTER_REF;
CREATE GENERATOR TAXDOC_ITEM_SEQ;
